{"content": "<div id=\"problemtext\"><h2><a href=\"https://gpe3.acm-icpc.tw/domjudge2/pct/showproblem.php?probid=11130&amp;cid=5\" target=\"_blank\">11130:The Priest Mathematician </a></h2>Time Limit: 10 sec<p></p><h3 style=\"text-align:left\">Description</h3><div class=\"Section1\">&#13;\n<p class=\"MsoNormal\" style=\"text-align: justify;\">The ancient folklore behind the <strong style=\"mso-bidi-font-weight: normal;\">\"Towers of </strong><strong style=\"mso-bidi-font-weight: normal;\">Hanoi</strong><strong style=\"mso-bidi-font-weight: normal;\">\"</strong> puzzle invented by E. Lucas in <strong style=\"mso-bidi-font-weight: normal;\">1883</strong> is quite well known to us. One more recent legend tells us that the Brahmin monks from Benares never believed that the world could vanish at the moment they finished to transfer the <strong style=\"mso-bidi-font-weight: normal;\">64</strong> discs from the needle on which they were to one of the other needles, and they decided to finish the task as soon as possible.</p>&#13;\n<p class=\"MsoNormal\">&#160;</p>&#13;\n<p class=\"MsoNormal\" style=\"text-align: center;\" align=\"center\"><!--[if gte vml 1]><v:shapetype\r\n id=\"_x0000_t75\" coordsize=\"21600,21600\" o:spt=\"75\" o:preferrelative=\"t\"\r\n path=\"m@4@5l@4@11@9@11@9@5xe\" filled=\"f\" stroked=\"f\">\r\n <v:stroke joinstyle=\"miter\"/>\r\n <v:formulas>\r\n  <v:f eqn=\"if lineDrawn pixelLineWidth 0\"/>\r\n  <v:f eqn=\"sum @0 1 0\"/>\r\n  <v:f eqn=\"sum 0 0 @1\"/>\r\n  <v:f eqn=\"prod @2 1 2\"/>\r\n  <v:f eqn=\"prod @3 21600 pixelWidth\"/>\r\n  <v:f eqn=\"prod @3 21600 pixelHeight\"/>\r\n  <v:f eqn=\"sum @0 0 1\"/>\r\n  <v:f eqn=\"prod @6 1 2\"/>\r\n  <v:f eqn=\"prod @7 21600 pixelWidth\"/>\r\n  <v:f eqn=\"sum @8 21600 0\"/>\r\n  <v:f eqn=\"prod @7 21600 pixelHeight\"/>\r\n  <v:f eqn=\"sum @10 21600 0\"/>\r\n </v:formulas>\r\n <v:path o:extrusionok=\"f\" gradientshapeok=\"t\" o:connecttype=\"rect\"/>\r\n <o:lock v:ext=\"edit\" aspectratio=\"t\"/>\r\n</v:shapetype><v:shape id=\"_x0000_i1025\" type=\"#_x0000_t75\" style='width:350.25pt;\r\n height:186.75pt'>\r\n <v:imagedata src=\"p10254a.png\" o:title=\"\"/>\r\n</v:shape><![endif]--><img src=\"/question_snapshots/assets/697cfd686063ef4fcadcc4017cc12445.jpg\" alt=\"\" width=\"467\" height=\"249\" /></p>&#13;\n<p class=\"MsoNormal\" style=\"text-align: center;\" align=\"center\"><strong style=\"mso-bidi-font-weight: normal;\">Fig: The Four Needle (Peg) </strong><strong style=\"mso-bidi-font-weight: normal;\">Tower</strong><strong style=\"mso-bidi-font-weight: normal;\"> of </strong><strong style=\"mso-bidi-font-weight: normal;\">Hanoi</strong><strong style=\"mso-bidi-font-weight: normal;\"></strong></p>&#13;\n<p class=\"MsoNormal\" style=\"text-align: justify;\">&#160;</p>&#13;\n<p class=\"MsoNormal\" style=\"text-align: justify;\">One of the priests at theBenarestemple (who loved the mathematics) assured their colleagues to achieve the transfer in the afternoon (the rhythm they had thought was a disc-per-second) by using an additional needle. They couldn't believe him, but he proposed them the following strategy:</p>&#13;\n<p class=\"MsoNormal\">&#160;</p>&#13;\n<p class=\"MsoNormal\">-- First move the topmost discs (say the top <strong style=\"mso-bidi-font-weight: normal;\">k</strong> discs) to one of the spare needles.</p>&#13;\n<p class=\"MsoNormal\">&#160;</p>&#13;\n<p class=\"MsoNormal\" style=\"text-align: justify;\">-- Then use the standard three needles strategy to move the remaining <strong style=\"mso-bidi-font-weight: normal;\">n-k</strong> discs (for a general case with n discs) to their destination.</p>&#13;\n<p class=\"MsoNormal\" style=\"text-align: justify;\">&#160;</p>&#13;\n<p class=\"MsoNormal\">-- Finally, move the top <strong style=\"mso-bidi-font-weight: normal;\">k</strong> discs into their final destination using the four needles.</p>&#13;\n<p class=\"MsoNormal\">&#160;</p>&#13;\n<p class=\"MsoNormal\" style=\"text-align: justify;\">He calculated the value to <strong style=\"mso-bidi-font-weight: normal;\">k</strong> in order to minimize the number of movements and get a total of <strong style=\"mso-bidi-font-weight: normal;\">18433</strong> transfers, so they spent just <strong style=\"mso-bidi-font-weight: normal;\">5</strong> hours, <strong style=\"mso-bidi-font-weight: normal;\">7</strong> minutes and <strong style=\"mso-bidi-font-weight: normal;\">13</strong> seconds against the more than <strong style=\"mso-bidi-font-weight: normal;\">500000</strong> millions years without the additional needle (as they would have to do <strong style=\"mso-bidi-font-weight: normal;\">2<sup>64</sup>-1</strong> disc transfers. Can you believe it?)</p>&#13;\n<p class=\"MsoNormal\">&#160;</p>&#13;\n<p class=\"MsoNormal\" style=\"text-align: justify;\">Try to follow the clever priest's strategy and calculate the number of transfer using four needles but according with the fixed and immutable laws of Brahma, which require that the priest on duty must not move more than one disc at a time and that he must place this disc on a needle so that there is no smaller disc below it. Of course, the main goal is to calculate the k that minimize the number of transfers (even thought it is not know for sure that this is always the optimal number of movements).</p>&#13;\n</div><h3 style=\"text-align:left\">Input</h3><p>The input file contains several lines of input. Each line contains a single integer <strong>N</strong>, which is the number of disks to be transferred. Here <strong>0 &#8804; N <strong>&#8804; </strong>10000</strong>. Input is terminated by end of file.</p><h3 style=\"text-align:left\">Output</h3><p><span>For each line of input produce one line of output which indicates the number of movements required to transfer the <strong>N</strong> disks to the final needle.</span></p><hr /><div id=\"sampleinputoutput\"><table class=\"inputoutput\"><tr><td class=\"SampleCaption\"><h3 style=\"text-align:left\">Sample Input</h3></td><td class=\"SampleCaption\"><h3 style=\"text-align:left\">Sample Output</h3></td></tr><tr></tr><tr class=\"inputoutput\"><td class=\"inputoutput\" valign=\"top\"><pre class=\"sampleio\">1&#13;\n2&#13;\n28&#13;\n64</pre></td><td class=\"inputoutput\" valign=\"top\"><pre class=\"sampleio\">1&#13;\n3&#13;\n769&#13;\n18433</pre></td></tr></table></div><hr /><table><tr><td>Source: </td><td>http://uva.onlinejudge.org/external/102/10254.html</td></tr><tr><td>Author: </td><td>Miguel Revilla</td></tr><tr><td>Keyword:</td><td>bignum</td></tr></table></div></body>\n</html><html xmlns=\"http://www.w3.org/1999/xhtml\"></html>"}