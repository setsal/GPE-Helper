{"content": "<div id=\"problemtext\"><h2><a href=\"https://gpe3.acm-icpc.tw/domjudge2/pct/showproblem.php?probid=10601&amp;cid=5\" target=\"_blank\">10601:Eternal Truths</a></h2>Time Limit: 3 sec<p></p><h3 style=\"text-align:left\">Background</h3><p><img src=\"/question_snapshots/assets/49336d071883644d5f006f126e905600.gif\" border=\"0\" alt=\"\" width=\"137\" height=\"145\" /> &#160;</p>&#13;\n<p>History is filled with legends and stories associated with mazes and labyrinths that have been shrouded by mystery.&#160;</p>&#13;\n<p>In some ancient religion a maze functioned as a cult center and symbolized mankind's search for all eternal truths.</p>&#13;\n<p>In their initiation cult young people have to pass across a maze composed by squared chambers that can communicate with the ones at the north, south, east or west. They have to go from a start point to an end point passing by the shortest number of chambers and have to follow some ritual. They have to respect a sequence of 3 moves that will be repeated until the end point is reached. In the first move they pass through one chamber, in the second through two chambers and in the third through three chambers. In each of these moves they can&#8217;t change their direction.</p><h3 style=\"text-align:left\">Description</h3><td>&#160;</td>&#13;\n<p>&#160; Given a map of the chambers disposed in a rectangular grid find the shortest path, in number of moves, from a start point to an end point.</p>&#13;\n<p>Notice that, in the sequence of moves the ritual described above must be respected. In each move you must pass through the corresponding number of chambers, without changing your direction during a move. You must begin with 1 chamber and repeat the sequence of 1, 2 and 3 chambers until the end is reached. The end can be reached in any of the states.</p>&#13;\n<td>&#160;</td>&#13;\n<p>&#160;</p>&#13;\n<p><span style=\"color: #006000;\"><img src=\"/question_snapshots/assets/9c845e54563c42afcc248fb316a2938d.gif\" border=\"0\" alt=\"\" width=\"140\" height=\"140\" /> </span></p><h3 style=\"text-align:left\">Input</h3><p>The first line contains the number of test cases.</p>&#13;\n<p>The first line of each test case contains two integers separated by a single space: <em>R</em> (2&lt;= <em>R</em>&lt;= 300) corresponding to the number of rows and <em>C</em> (2 &lt;= <em>C</em> &lt;= 300) corresponding to the number of columns.</p>&#13;\n<p>Each of the following <em>R</em> lines contains <em>C</em> characters. For each character, a dot&#160; \"<strong>.</strong>\"&#160; represents a chamber, a hash mark \"<strong>#</strong>\" represents a wall and the capital letters \"<strong>S</strong>\" and \"<strong>E</strong>\"&#160; represent the start and the end position respectively.</p><h3 style=\"text-align:left\">Output</h3><p>The output consists of one line for each test case containing the number of moves from \"<strong>S</strong>\" to \"<strong>E</strong>\" or the word \"NO\" if there is no solution.</p><hr /><div id=\"sampleinputoutput\"><table class=\"inputoutput\"><tr><td class=\"SampleCaption\"><h3 style=\"text-align:left\">Sample Input</h3></td><td class=\"SampleCaption\"><h3 style=\"text-align:left\">Sample Output</h3></td></tr><tr></tr><tr class=\"inputoutput\"><td class=\"inputoutput\" valign=\"top\"><pre class=\"sampleio\">2&#13;\n5 4&#13;\nS...&#13;\n.#.#&#13;\n.#..&#13;\n.##.&#13;\n...E&#13;\n6 6 &#13;\n.S...E&#13;\n.#.##.&#13;\n.#....&#13;\n.#.##.&#13;\n.####.&#13;\n......&#13;\n</pre></td><td class=\"inputoutput\" valign=\"top\"><pre class=\"sampleio\">NO&#13;\n3&#13;\n</pre></td></tr></table></div><hr /><table><tr><td>Source: </td><td>MIUP&#8217;2004: Fourth Portuguese National Programming Contest</td></tr><tr><td>Author: </td><td>Ana Paula Maldonado</td></tr><tr><td>URL: </td><td><a>http://uva.onlinejudge.org/external/9/928.html</a></td></tr><tr><td>Keyword:</td><td></td></tr></table></div></body>\n</html><html xmlns=\"http://www.w3.org/1999/xhtml\"></html>"}